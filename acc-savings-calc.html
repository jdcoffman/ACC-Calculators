<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tuition Savings</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrap">
    <div class="topnav">
      <a class="back" href="index.html">← Back</a>
    </div>

    <div class="card">
      <h2>Tuition Savings</h2>
      <p class="sub">Compare in-district vs out-of-district ACC costs, with comparisons to other universities. All amounts are rounded to the nearest $1.</p>

      <div class="scenarioRow" role="group" aria-label="Scenario picker">
        <button class="scenarioBtn active" type="button" id="scFew">
          <p class="t">Take a few classes</p>
          <p class="d">2 classes this semester (6 credits)</p>
        </button>
        <button class="scenarioBtn" type="button" id="scAssoc">
          <p class="t">Earn an associate degree</p>
          <p class="d">2 years full-time at ACC (60 credits)</p>
        </button>
        <button class="scenarioBtn" type="button" id="scTwoTwo">
          <p class="t">2+2 pathway (bachelor’s)</p>
          <p class="d">2 years at ACC (60 credits) + finish at a 4-year school</p>
        </button>
        <button class="scenarioBtn" type="button" id="scBachAcc">
          <p class="t">Bachelor’s at ACC (4 years)</p>
          <p class="d">Full 4-year program at ACC (120 credits)</p>
        </button>
      </div>

      <div class="result" aria-live="polite">
        <div class="resultGrid">
          <div class="metric">
            <p class="k">ACC cost (in-district)</p>
            <p class="v" id="accInOut">$0</p>
          </div>
          <div class="metric">
            <p class="k">ACC cost (out-of-district)</p>
            <p class="v" id="accOutOut">$0</p>
          </div>
          <div class="metric good">
            <p class="k">Savings (in-district vs out-of-district)</p>
            <p class="v" id="accSavingsOut">$0</p>
          </div>
        </div>

        <div class="whatIncludes">
          Includes ACC baseline tuition + standard fees (via $/credit baselines). Does not include course/lab fees, housing, or transportation.
        </div>

        <div class="pillrow">
          <div class="pill" id="creditsPill">Credits in this scenario: —</div>
          <div class="pill">Baselines: $82/credit (in) • $283/credit (out)</div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <div class="toggle">
            <div class="meta">
              <span>Add 4-year school comparison</span>
              <span>Optional. Compares this scenario to a 4-year school baseline.</span>
            </div>
            <label class="switch">
              <input id="enableCompare" type="checkbox" />
              <span class="slider"></span>
            </label>
          </div>

          <div id="compareBlock" style="display:none;">
            <label>Comparison school</label>
            <select id="schoolSelect">
              <option value="ut">UT Austin</option>
              <option value="txst">Texas State</option>
              <option value="utsa">UTSA</option>
              <option value="tamu">Texas A&amp;M</option>
            </select>

            <label id="compareModeLabel">Comparison mode</label>
            <select id="compareMode">
              <option value="program" selected>Compare full program cost</option>
              <option value="remaining">Show remaining cost only (2+2 only)</option>
            </select>

            <div class="result" style="margin-top:12px;">
              <div class="resultGrid">
                <div class="metric">
                  <p class="k" id="schoolFullLabel">4-year school cost (baseline)</p>
                  <p class="v" id="schoolFullOut">$0</p>
                </div>
                <div class="metric">
                  <p class="k" id="pathInLabel">Pathway total (in-district)</p>
                  <p class="v" id="pathInOut">$0</p>
                </div>
                <div class="metric">
                  <p class="k" id="pathOutLabel">Pathway total (out-of-district)</p>
                  <p class="v" id="pathOutOut">$0</p>
                </div>
                <div class="metric good">
                  <p class="k">Estimated savings (in-district)</p>
                  <p class="v" id="saveInOut">$0</p>
                </div>
                <div class="metric good">
                  <p class="k">Estimated savings (out-of-district)</p>
                  <p class="v" id="saveOutOut">$0</p>
                </div>
              </div>

              <div class="whatIncludes">
                Comparison uses published annual tuition+fee baselines. It does not include housing, meal plans, transportation, or program-specific fees.
              </div>
            </div>
          </div>

          <div class="actions">
            <button class="btn" id="resetBtn" type="button">Reset</button>
            <button class="btn primary" id="copyBtn" type="button">Copy share text</button>
          </div>
        </div>

        <div class="col">
          <div class="accordion" aria-label="Assumptions">
            <details class="faq">
              <summary><span>Assumptions and formulas</span><span class="caret" aria-hidden="true"></span></summary>
              <div class="faqBody">
                <div><strong>ACC cost (all-in)</strong> = credits × baseline_cost_per_credit.</div>
                <div style="margin-top:10px;"><strong>ACC baselines used</strong>: $82/credit (in-district), $283/credit (out-of-district). (Includes tuition + standard fees.)</div>
                <div style="margin-top:10px;"><strong>UT Austin annual baseline</strong> = 2 × $5,429 for a resident Liberal Arts student at 12+ hours/term.</div>
                <div style="margin-top:10px;"><strong>Texas State annual baseline</strong> = $12,220 (15 hrs/semester basis).</div>
                <div style="margin-top:10px;"><strong>UTSA annual baseline</strong> = $11,448 (15 hrs/term basis).</div>
                <div style="margin-top:10px;"><strong>Texas A&amp;M annual baseline</strong> = 2 × $6,237.35.</div>
                <div style="margin-top:10px;"><strong>2+2 pathway (simplified)</strong> = (ACC 60 credits) + (4-year school baseline × 2 years).</div>
              </div>
            </details>

            <details class="faq">
              <summary><span>Scenario notes</span><span class="caret" aria-hidden="true"></span></summary>
              <div class="faqBody">
                <div><strong>Take a few classes</strong>: Shows ACC in vs out only (comparison is optional but less apples-to-apples).</div>
                <div style="margin-top:10px;"><strong>Associate degree</strong>: Treats 60 credits as the ACC program cost.</div>
                <div style="margin-top:10px;"><strong>2+2 pathway</strong>: Treats the first 60 credits at ACC, then 2 years at the selected 4-year school baseline.</div>
                <div style="margin-top:10px;"><strong>Bachelor’s at ACC</strong>: Treats 120 credits as a full 4-year ACC program cost.</div>
              </div>
            </details>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    const ACC_IN_PER_CREDIT = 82;
    const ACC_OUT_PER_CREDIT = 283;

    const SCHOOL_DEFAULTS = {
      ut:   { name: "UT Austin", annual: 2 * 5429 },
      txst: { name: "Texas State", annual: 12220 },
      utsa: { name: "UTSA", annual: 11448 },
      tamu: { name: "Texas A&M", annual: 2 * 6237.35 }
    };

    const SCENARIOS = {
      few:     { key:"few",     label:"Take a few classes",          creditsAcc: 6,   schoolYearsRemaining: 0, programSchoolYears: 1 },
      assoc:   { key:"assoc",   label:"Associate degree",            creditsAcc: 60,  schoolYearsRemaining: 0, programSchoolYears: 2 },
      twoTwo:  { key:"twoTwo",  label:"2+2 pathway (bachelor’s)",    creditsAcc: 60,  schoolYearsRemaining: 2, programSchoolYears: 4 },
      bachAcc: { key:"bachAcc", label:"Bachelor’s at ACC (4 years)", creditsAcc: 120, schoolYearsRemaining: 0, programSchoolYears: 4 }
    };

    const $ = (id) => document.getElementById(id);

    function formatMoney(n) {
      const v = Number(n);
      if (!isFinite(v)) return "$0";
      return v.toLocaleString(undefined, { style: "currency", currency: "USD", maximumFractionDigits: 0 });
    }
    function round1(n){ return Math.round(Number(n) || 0); }
    function setActive(el, isActive) { el.classList.toggle("active", !!isActive); }

    let currentScenarioKey = "few";

    function setScenario(key){
      currentScenarioKey = key;
      setActive($("scFew"), key === "few");
      setActive($("scAssoc"), key === "assoc");
      setActive($("scTwoTwo"), key === "twoTwo");
      setActive($("scBachAcc"), key === "bachAcc");

      if (key !== "twoTwo") {
        $("compareMode").value = "program";
        $("compareMode").disabled = true;
        $("compareModeLabel").textContent = "Comparison mode (2+2 only supports remaining view)";
      } else {
        $("compareMode").disabled = false;
        $("compareModeLabel").textContent = "Comparison mode";
      }
      computeAll();
    }

    function computeAccCosts(){
      const s = SCENARIOS[currentScenarioKey];
      const accIn = s.creditsAcc * ACC_IN_PER_CREDIT;
      const accOut = s.creditsAcc * ACC_OUT_PER_CREDIT;
      const savings = accOut - accIn;

      $("accInOut").textContent = formatMoney(round1(accIn));
      $("accOutOut").textContent = formatMoney(round1(accOut));
      $("accSavingsOut").textContent = formatMoney(round1(savings));
      $("creditsPill").textContent = `Credits in this scenario: ${s.creditsAcc}`;
      return { accIn, accOut };
    }

    function updateCompareVisibility(){
      $("compareBlock").style.display = $("enableCompare").checked ? "block" : "none";
    }

    function computeComparison(accIn, accOut){
      if (!$("enableCompare").checked) return;

      const s = SCENARIOS[currentScenarioKey];
      const schoolKey = $("schoolSelect").value;
      const school = SCHOOL_DEFAULTS[schoolKey];
      const annual = school.annual;

      const compareMode = $("compareMode").value;

      const schoolFull = annual * (s.programSchoolYears || 0);
      const schoolRemaining = annual * (s.schoolYearsRemaining || 0);

      const pathwayIn = accIn + schoolRemaining;
      const pathwayOut = accOut + schoolRemaining;

      if (currentScenarioKey === "twoTwo") {
        $("schoolFullLabel").textContent = `${school.name} cost (4 years baseline)`;
        $("pathInLabel").textContent = `2+2 pathway total (in-district)`;
        $("pathOutLabel").textContent = `2+2 pathway total (out-of-district)`;
      } else if (currentScenarioKey === "assoc") {
        $("schoolFullLabel").textContent = `${school.name} cost (2 years baseline)`;
        $("pathInLabel").textContent = `ACC total (in-district)`;
        $("pathOutLabel").textContent = `ACC total (out-of-district)`;
      } else if (currentScenarioKey === "bachAcc") {
        $("schoolFullLabel").textContent = `${school.name} cost (4 years baseline)`;
        $("pathInLabel").textContent = `ACC total (in-district)`;
        $("pathOutLabel").textContent = `ACC total (out-of-district)`;
      } else {
        $("schoolFullLabel").textContent = `${school.name} cost (1 year baseline)`;
        $("pathInLabel").textContent = `ACC total (in-district)`;
        $("pathOutLabel").textContent = `ACC total (out-of-district)`;
      }

      let compCost = schoolFull;
      if (currentScenarioKey === "twoTwo" && compareMode === "remaining") {
        compCost = schoolRemaining;
        $("schoolFullLabel").textContent = `${school.name} remaining cost (2 years baseline)`;
      }

      const savingsBase = schoolFull;
      const saveIn = savingsBase - pathwayIn;
      const saveOut = savingsBase - pathwayOut;

      $("schoolFullOut").textContent = formatMoney(round1(compCost));
      $("pathInOut").textContent = formatMoney(round1(pathwayIn));
      $("pathOutOut").textContent = formatMoney(round1(pathwayOut));
      $("saveInOut").textContent = formatMoney(round1(saveIn));
      $("saveOutOut").textContent = formatMoney(round1(saveOut));
    }

    function computeAll(){
      updateCompareVisibility();
      const { accIn, accOut } = computeAccCosts();
      computeComparison(accIn, accOut);
    }

    function resetAll(){
      $("enableCompare").checked = false;
      $("schoolSelect").value = "ut";
      $("compareMode").value = "program";
      setScenario("few");
      computeAll();
    }

    function buildShareText(){
      const s = SCENARIOS[currentScenarioKey];
      const accIn = s.creditsAcc * ACC_IN_PER_CREDIT;
      const accOut = s.creditsAcc * ACC_OUT_PER_CREDIT;
      const savings = accOut - accIn;

      const lines = [
        "ACC Tuition Savings Estimate",
        `Scenario: ${s.label}`,
        `Credits at ACC (preset): ${s.creditsAcc}`,
        `ACC cost (in-district): ${formatMoney(round1(accIn))}`,
        `ACC cost (out-of-district): ${formatMoney(round1(accOut))}`,
        `Savings (in-district vs out-of-district): ${formatMoney(round1(savings))}`
      ];

      if ($("enableCompare").checked) {
        const schoolKey = $("schoolSelect").value;
        const school = SCHOOL_DEFAULTS[schoolKey];
        const annual = school.annual;

        const schoolFull = annual * (s.programSchoolYears || 0);
        const schoolRemaining = annual * (s.schoolYearsRemaining || 0);
        const pathwayIn = accIn + schoolRemaining;
        const pathwayOut = accOut + schoolRemaining;

        lines.push(`Comparison school: ${school.name}`);
        lines.push(`Full baseline (program years): ${formatMoney(round1(schoolFull))}`);
        lines.push(`Pathway total (in): ${formatMoney(round1(pathwayIn))}`);
        lines.push(`Pathway total (out): ${formatMoney(round1(pathwayOut))}`);
        lines.push(`Estimated savings vs full baseline (in): ${formatMoney(round1(schoolFull - pathwayIn))}`);
        lines.push(`Estimated savings vs full baseline (out): ${formatMoney(round1(schoolFull - pathwayOut))}`);
      }

      return lines.join("\n");
    }

    async function copyShareText(){
      const text = buildShareText();
      try{
        await navigator.clipboard.writeText(text);
        $("copyBtn").textContent = "Copied";
        setTimeout(() => $("copyBtn").textContent = "Copy share text", 900);
      } catch {
        prompt("Copy this text:", text);
      }
    }

    $("scFew").addEventListener("click", () => setScenario("few"));
    $("scAssoc").addEventListener("click", () => setScenario("assoc"));
    $("scTwoTwo").addEventListener("click", () => setScenario("twoTwo"));
    $("scBachAcc").addEventListener("click", () => setScenario("bachAcc"));

    $("enableCompare").addEventListener("change", computeAll);
    $("schoolSelect").addEventListener("change", computeAll);
    $("compareMode").addEventListener("change", computeAll);

    $("resetBtn").addEventListener("click", resetAll);
    $("copyBtn").addEventListener("click", copyShareText);

    resetAll();
  </script>
</body>
</html>